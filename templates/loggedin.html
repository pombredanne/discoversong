$def with (name, message, sourceapps, env_message)
<html>
  <head>
    <title>discoversong</title>
    <style type="text/css">
      html {
        background-attachment: fixed;
        background-color: #3C3C94;
        background-image: url("http://ak.rdio.com/media/images/base/body_bg.jpg");
        background-repeat: repeat-x;
        height: 100%;
      }
      body {
        background: none repeat scroll 0 0 white;
        border-radius: 5px 5px 5px 5px;
        font-family: helvetica,arial,sans-serif;
        margin: 50px;
        padding: 25px;
      }
    </style>
  </head>
  <body>
    <h1>discoversong</h1>
    Welcome $name!
    $message
    <p>Discoversong supports all these apps:</p>
    <ul>
      $for sourceapp in sourceapps:
        <li><a href="$:sourceapp.url">$:sourceapp.applabel</a></li>
    </ul>
    <p>Configure everything <a href="/config" style="font-size: larger; color: green;">here</a>.</p>
    <p>Now just go out there and find some music you've never heard before, identify it, and it'll be waiting for you on Rdio when you return!</p>
    <a href="/logout">Log out of discoversong $:env_message</a>
    <p style="font-size: small;">Got feedback?  Send me an <a href="mailto:discoversong@outlook.com">email</a> or a <a href="https://twitter.com/intent/tweet?screen_name=eaefremov">twitter</a> message!</p>
  </body>
</html>
